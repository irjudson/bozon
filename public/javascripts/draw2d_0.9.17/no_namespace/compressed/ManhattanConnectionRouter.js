/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

ManhattanConnectionRouter=function(){this.MINDIST=20;};ManhattanConnectionRouter.prototype=new ConnectionRouter;ManhattanConnectionRouter.prototype.type="ManhattanConnectionRouter";ManhattanConnectionRouter.prototype.route=function(conn){var _fa6=conn.getStartPoint();var _fa7=this.getStartDirection(conn);var toPt=conn.getEndPoint();var _fa9=this.getEndDirection(conn);this._route(conn,toPt,_fa9,_fa6,_fa7);};ManhattanConnectionRouter.prototype._route=function(conn,_fab,_fac,toPt,_fae){var TOL=0.1;var _fb0=0.01;var UP=0;var _fb2=1;var DOWN=2;var LEFT=3;var _fb5=_fab.x-toPt.x;var _fb6=_fab.y-toPt.y;var _fb7;var dir;if(((_fb5*_fb5)<(_fb0))&&((_fb6*_fb6)<(_fb0))){conn.addPoint(new Point(toPt.x,toPt.y));return;}if(_fac==LEFT){if((_fb5>0)&&((_fb6*_fb6)<TOL)&&(_fae==_fb2)){_fb7=toPt;dir=_fae;}else{if(_fb5<0){_fb7=new Point(_fab.x-this.MINDIST,_fab.y);}else{if(((_fb6>0)&&(_fae==DOWN))||((_fb6<0)&&(_fae==UP))){_fb7=new Point(toPt.x,_fab.y);}else{if(_fac==_fae){var pos=Math.min(_fab.x,toPt.x)-this.MINDIST;_fb7=new Point(pos,_fab.y);}else{_fb7=new Point(_fab.x-(_fb5/2),_fab.y);}}}if(_fb6>0){dir=UP;}else{dir=DOWN;}}}else{if(_fac==_fb2){if((_fb5<0)&&((_fb6*_fb6)<TOL)&&(_fae==LEFT)){_fb7=toPt;dir=_fae;}else{if(_fb5>0){_fb7=new Point(_fab.x+this.MINDIST,_fab.y);}else{if(((_fb6>0)&&(_fae==DOWN))||((_fb6<0)&&(_fae==UP))){_fb7=new Point(toPt.x,_fab.y);}else{if(_fac==_fae){var pos=Math.max(_fab.x,toPt.x)+this.MINDIST;_fb7=new Point(pos,_fab.y);}else{_fb7=new Point(_fab.x-(_fb5/2),_fab.y);}}}if(_fb6>0){dir=UP;}else{dir=DOWN;}}}else{if(_fac==DOWN){if(((_fb5*_fb5)<TOL)&&(_fb6<0)&&(_fae==UP)){_fb7=toPt;dir=_fae;}else{if(_fb6>0){_fb7=new Point(_fab.x,_fab.y+this.MINDIST);}else{if(((_fb5>0)&&(_fae==_fb2))||((_fb5<0)&&(_fae==LEFT))){_fb7=new Point(_fab.x,toPt.y);}else{if(_fac==_fae){var pos=Math.max(_fab.y,toPt.y)+this.MINDIST;_fb7=new Point(_fab.x,pos);}else{_fb7=new Point(_fab.x,_fab.y-(_fb6/2));}}}if(_fb5>0){dir=LEFT;}else{dir=_fb2;}}}else{if(_fac==UP){if(((_fb5*_fb5)<TOL)&&(_fb6>0)&&(_fae==DOWN)){_fb7=toPt;dir=_fae;}else{if(_fb6<0){_fb7=new Point(_fab.x,_fab.y-this.MINDIST);}else{if(((_fb5>0)&&(_fae==_fb2))||((_fb5<0)&&(_fae==LEFT))){_fb7=new Point(_fab.x,toPt.y);}else{if(_fac==_fae){var pos=Math.min(_fab.y,toPt.y)-this.MINDIST;_fb7=new Point(_fab.x,pos);}else{_fb7=new Point(_fab.x,_fab.y-(_fb6/2));}}}if(_fb5>0){dir=LEFT;}else{dir=_fb2;}}}}}}this._route(conn,_fb7,dir,toPt,_fae);conn.addPoint(_fab);};