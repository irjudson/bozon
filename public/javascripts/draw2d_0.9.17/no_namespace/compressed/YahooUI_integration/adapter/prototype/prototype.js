/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

var Prototype={Version:"1.5.0",BrowserFeatures:{XPath:!!document.evaluate},ScriptFragment:"(?:<script.*?>)((\n|\r|.)*?)(?:</script>)",emptyFunction:function(){},K:function(x){return x;}};var Class={create:function(){return function(){this.initialize.apply(this,arguments);};}};var Abstract=new Object();Object.extend=function(_fbb,_fbc){for(var _fbd in _fbc){_fbb[_fbd]=_fbc[_fbd];}return _fbb;};Object.extend(Object,{inspect:function(_fbe){try{if(_fbe===undefined){return "undefined";}if(_fbe===null){return "null";}return _fbe.inspect?_fbe.inspect():_fbe.toString();}catch(e){if(e instanceof RangeError){return "...";}throw e;}},keys:function(_fbf){var keys=[];for(var _fc1 in _fbf){keys.push(_fc1);}return keys;},values:function(_fc2){var _fc3=[];for(var _fc4 in _fc2){_fc3.push(_fc2[_fc4]);}return _fc3;},clone:function(_fc5){return Object.extend({},_fc5);}});Function.prototype.bind=function(){var _fc6=this,args=$A(arguments),object=args.shift();return function(){return _fc6.apply(object,args.concat($A(arguments)));};};Function.prototype.bindAsEventListener=function(_fc7){var _fc8=this,args=$A(arguments),_fc7=args.shift();return function(_fc9){return _fc8.apply(_fc7,[(_fc9||window.event)].concat(args).concat($A(arguments)));};};Object.extend(Number.prototype,{toColorPart:function(){var _fca=this.toString(16);if(this<16){return "0"+_fca;}return _fca;},succ:function(){return this+1;},times:function(_fcb){$R(0,this,true).each(_fcb);return this;}});var Try={these:function(){var _fcc;for(var i=0,length=arguments.length;i<length;i++){var _fce=arguments[i];try{_fcc=_fce();break;}catch(e){}}return _fcc;}};var PeriodicalExecuter=Class.create();PeriodicalExecuter.prototype={initialize:function(_fcf,_fd0){this.callback=_fcf;this.frequency=_fd0;this.currentlyExecuting=false;this.registerCallback();},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},stop:function(){if(!this.timer){return;}clearInterval(this.timer);this.timer=null;},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.callback(this);}finally{this.currentlyExecuting=false;}}}};String.interpret=function(_fd1){return _fd1==null?"":String(_fd1);};Object.extend(String.prototype,{gsub:function(_fd2,_fd3){var _fd4="",source=this,match;_fd3=arguments.callee.prepareReplacement(_fd3);while(source.length>0){if(match=source.match(_fd2)){_fd4+=source.slice(0,match.index);_fd4+=String.interpret(_fd3(match));source=source.slice(match.index+match[0].length);}else{_fd4+=source,source="";}}return _fd4;},sub:function(_fd5,_fd6,_fd7){_fd6=this.gsub.prepareReplacement(_fd6);_fd7=_fd7===undefined?1:_fd7;return this.gsub(_fd5,function(_fd8){if(--_fd7<0){return _fd8[0];}return _fd6(_fd8);});},scan:function(_fd9,_fda){this.gsub(_fd9,_fda);return this;},truncate:function(_fdb,_fdc){_fdb=_fdb||30;_fdc=_fdc===undefined?"...":_fdc;return this.length>_fdb?this.slice(0,_fdb-_fdc.length)+_fdc:this;},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"");},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"");},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"");},extractScripts:function(){var _fdd=new RegExp(Prototype.ScriptFragment,"img");var _fde=new RegExp(Prototype.ScriptFragment,"im");return (this.match(_fdd)||[]).map(function(_fdf){return (_fdf.match(_fde)||["",""])[1];});},evalScripts:function(){return this.extractScripts().map(function(_fe0){return eval(_fe0);});},escapeHTML:function(){var div=document.createElement("div");var text=document.createTextNode(this);div.appendChild(text);return div.innerHTML;},unescapeHTML:function(){var div=document.createElement("div");div.innerHTML=this.stripTags();return div.childNodes[0]?(div.childNodes.length>1?$A(div.childNodes).inject("",function(memo,node){return memo+node.nodeValue;}):div.childNodes[0].nodeValue):"";},toQueryParams:function(_fe6){var _fe7=this.strip().match(/([^?#]*)(#.*)?$/);if(!_fe7){return {};}return _fe7[1].split(_fe6||"&").inject({},function(hash,pair){if((pair=pair.split("="))[0]){var name=decodeURIComponent(pair[0]);var _feb=pair[1]?decodeURIComponent(pair[1]):undefined;if(hash[name]!==undefined){if(hash[name].constructor!=Array){hash[name]=[hash[name]];}if(_feb){hash[name].push(_feb);}}else{hash[name]=_feb;}}return hash;});},toArray:function(){return this.split("");},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1);},camelize:function(){var _fec=this.split("-"),len=_fec.length;if(len==1){return _fec[0];}var _fed=this.charAt(0)=="-"?_fec[0].charAt(0).toUpperCase()+_fec[0].substring(1):_fec[0];for(var i=1;i<len;i++){_fed+=_fec[i].charAt(0).toUpperCase()+_fec[i].substring(1);}return _fed;},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase();},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase();},dasherize:function(){return this.gsub(/_/,"-");},inspect:function(_fef){var _ff0=this.replace(/\\/g,"\\\\");if(_fef){return "\""+_ff0.replace(/"/g,"\\\"")+"\"";}else{return "'"+_ff0.replace(/'/g,"\\'")+"'";}}});String.prototype.gsub.prepareReplacement=function(_ff1){if(typeof _ff1=="function"){return _ff1;}var _ff2=new Template(_ff1);return function(_ff3){return _ff2.evaluate(_ff3);};};String.prototype.parseQuery=String.prototype.toQueryParams;var Template=Class.create();Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;Template.prototype={initialize:function(_ff4,_ff5){this.template=_ff4.toString();this.pattern=_ff5||Template.Pattern;},evaluate:function(_ff6){return this.template.gsub(this.pattern,function(_ff7){var _ff8=_ff7[1];if(_ff8=="\\"){return _ff7[2];}return _ff8+String.interpret(_ff6[_ff7[3]]);});}};var $break=new Object();var $continue=new Object();var Enumerable={each:function(_ff9){var _ffa=0;try{this._each(function(_ffb){try{_ff9(_ffb,_ffa++);}catch(e){if(e!=$continue){throw e;}}});}catch(e){if(e!=$break){throw e;}}return this;},eachSlice:function(_ffc,_ffd){var _ffe=-_ffc,slices=[],array=this.toArray();while((_ffe+=_ffc)<array.length){slices.push(array.slice(_ffe,_ffe+_ffc));}return slices.map(_ffd);},all:function(_fff){var _1000=true;this.each(function(value,index){_1000=_1000&&!!(_fff||Prototype.K)(value,index);if(!_1000){throw $break;}});return _1000;},any:function(_1003){var _1004=false;this.each(function(value,index){if(_1004=!!(_1003||Prototype.K)(value,index)){throw $break;}});return _1004;},collect:function(_1007){var _1008=[];this.each(function(value,index){_1008.push((_1007||Prototype.K)(value,index));});return _1008;},detect:function(_100b){var _100c;this.each(function(value,index){if(_100b(value,index)){_100c=value;throw $break;}});return _100c;},findAll:function(_100f){var _1010=[];this.each(function(value,index){if(_100f(value,index)){_1010.push(value);}});return _1010;},grep:function(_1013,_1014){var _1015=[];this.each(function(value,index){var _1018=value.toString();if(_1018.match(_1013)){_1015.push((_1014||Prototype.K)(value,index));}});return _1015;},include:function(_1019){var found=false;this.each(function(value){if(value==_1019){found=true;throw $break;}});return found;},inGroupsOf:function(_101c,_101d){_101d=_101d===undefined?null:_101d;return this.eachSlice(_101c,function(slice){while(slice.length<_101c){slice.push(_101d);}return slice;});},inject:function(memo,_1020){this.each(function(value,index){memo=_1020(memo,value,index);});return memo;},invoke:function(_1023){var args=$A(arguments).slice(1);return this.map(function(value){return value[_1023].apply(value,args);});},max:function(_1026){var _1027;this.each(function(value,index){value=(_1026||Prototype.K)(value,index);if(_1027==undefined||value>=_1027){_1027=value;}});return _1027;},min:function(_102a){var _102b;this.each(function(value,index){value=(_102a||Prototype.K)(value,index);if(_102b==undefined||value<_102b){_102b=value;}});return _102b;},partition:function(_102e){var trues=[],falses=[];this.each(function(value,index){((_102e||Prototype.K)(value,index)?trues:falses).push(value);});return [trues,falses];},pluck:function(_1032){var _1033=[];this.each(function(value,index){_1033.push(value[_1032]);});return _1033;},reject:function(_1036){var _1037=[];this.each(function(value,index){if(!_1036(value,index)){_1037.push(value);}});return _1037;},sortBy:function(_103a){return this.map(function(value,index){return {value:value,criteria:_103a(value,index)};}).sort(function(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0;}).pluck("value");},toArray:function(){return this.map();},zip:function(){var _1040=Prototype.K,args=$A(arguments);if(typeof args.last()=="function"){_1040=args.pop();}var _1041=[this].concat(args).map($A);return this.map(function(value,index){return _1040(_1041.pluck(index));});},size:function(){return this.toArray().length;},inspect:function(){return "#<Enumerable:"+this.toArray().inspect()+">";}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray});var $A=Array.from=function(_1044){if(!_1044){return [];}if(_1044.toArray){return _1044.toArray();}else{var _1045=[];for(var i=0,length=_1044.length;i<length;i++){_1045.push(_1044[i]);}return _1045;}};Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse){Array.prototype._reverse=Array.prototype.reverse;}Object.extend(Array.prototype,{_each:function(_1047){for(var i=0,length=this.length;i<length;i++){_1047(this[i]);}},clear:function(){this.length=0;return this;},first:function(){return this[0];},last:function(){return this[this.length-1];},compact:function(){return this.select(function(value){return value!=null;});},flatten:function(){return this.inject([],function(array,value){return array.concat(value&&value.constructor==Array?value.flatten():[value]);});},without:function(){var _104c=$A(arguments);return this.select(function(value){return !_104c.include(value);});},indexOf:function(_104e){for(var i=0,length=this.length;i<length;i++){if(this[i]==_104e){return i;}}return -1;},reverse:function(_1050){return (_1050!==false?this:this.toArray())._reverse();},reduce:function(){return this.length>1?this:this[0];},uniq:function(){return this.inject([],function(array,value){return array.include(value)?array:array.concat([value]);});},clone:function(){return [].concat(this);},size:function(){return this.length;},inspect:function(){return "["+this.map(Object.inspect).join(", ")+"]";}});Array.prototype.toArray=Array.prototype.clone;function $w(_1053){_1053=_1053.strip();return _1053?_1053.split(/\s+/):[];}if(window.opera){Array.prototype.concat=function(){var array=[];for(var i=0,length=this.length;i<length;i++){array.push(this[i]);}for(var i=0,length=arguments.length;i<length;i++){if(arguments[i].constructor==Array){for(var j=0,arrayLength=arguments[i].length;j<arrayLength;j++){array.push(arguments[i][j]);}}else{array.push(arguments[i]);}}return array;};}var Hash=function(obj){Object.extend(this,obj||{});};Object.extend(Hash,{toQueryString:function(obj){var parts=[];this.prototype._each.call(obj,function(pair){if(!pair.key){return;}if(pair.value&&pair.value.constructor==Array){var _105b=pair.value.compact();if(_105b.length<2){pair.value=_105b.reduce();}else{key=encodeURIComponent(pair.key);_105b.each(function(value){value=value!=undefined?encodeURIComponent(value):"";parts.push(key+"="+encodeURIComponent(value));});return;}}if(pair.value==undefined){pair[1]="";}parts.push(pair.map(encodeURIComponent).join("="));});return parts.join("&");}});Object.extend(Hash.prototype,Enumerable);Object.extend(Hash.prototype,{_each:function(_105d){for(var key in this){var value=this[key];if(value&&value==Hash.prototype[key]){continue;}var pair=[key,value];pair.key=key;pair.value=value;_105d(pair);}},keys:function(){return this.pluck("key");},values:function(){return this.pluck("value");},merge:function(hash){return $H(hash).inject(this,function(_1062,pair){_1062[pair.key]=pair.value;return _1062;});},remove:function(){var _1064;for(var i=0,length=arguments.length;i<length;i++){var value=this[arguments[i]];if(value!==undefined){if(_1064===undefined){_1064=value;}else{if(_1064.constructor!=Array){_1064=[_1064];}_1064.push(value);}}delete this[arguments[i]];}return _1064;},toQueryString:function(){return Hash.toQueryString(this);},inspect:function(){return "#<Hash:{"+this.map(function(pair){return pair.map(Object.inspect).join(": ");}).join(", ")+"}>";}});function $H(_1068){if(_1068&&_1068.constructor==Hash){return _1068;}return new Hash(_1068);}ObjectRange=Class.create();Object.extend(ObjectRange.prototype,Enumerable);Object.extend(ObjectRange.prototype,{initialize:function(start,end,_106b){this.start=start;this.end=end;this.exclusive=_106b;},_each:function(_106c){var value=this.start;while(this.include(value)){_106c(value);value=value.succ();}},include:function(value){if(value<this.start){return false;}if(this.exclusive){return value<this.end;}return value<=this.end;}});var $R=function(start,end,_1071){return new ObjectRange(start,end,_1071);};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest();},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");})||false;},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(_1072){this.responders._each(_1072);},register:function(_1073){if(!this.include(_1073)){this.responders.push(_1073);}},unregister:function(_1074){this.responders=this.responders.without(_1074);},dispatch:function(_1075,_1076,_1077,json){this.each(function(_1079){if(typeof _1079[_1075]=="function"){try{_1079[_1075].apply(_1079,[_1076,_1077,json]);}catch(e){}}});}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++;},onComplete:function(){Ajax.activeRequestCount--;}});Ajax.Base=function(){};Ajax.Base.prototype={setOptions:function(_107a){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""};Object.extend(this.options,_107a||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=this.options.parameters.toQueryParams();}}};Ajax.Request=Class.create();Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Request.prototype=Object.extend(new Ajax.Base(),{_complete:false,initialize:function(url,_107c){this.transport=Ajax.getTransport();this.setOptions(_107c);this.request(url);},request:function(url){this.url=url;this.method=this.options.method;var _107e=this.options.parameters;if(!["get","post"].include(this.method)){_107e["_method"]=this.method;this.method="post";}_107e=Hash.toQueryString(_107e);if(_107e&&/Konqueror|Safari|KHTML/.test(navigator.userAgent)){_107e+="&_=";}if(this.method=="get"&&_107e){this.url+=(this.url.indexOf("?")>-1?"&":"?")+_107e;}try{Ajax.Responders.dispatch("onCreate",this,this.transport);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){setTimeout(function(){this.respondToReadyState(1);}.bind(this),10);}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();var body=this.method=="post"?(this.options.postBody||_107e):null;this.transport.send(body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(e){this.dispatchException(e);}},onStateChange:function(){var _1080=this.transport.readyState;if(_1080>1&&!((_1080==4)&&this._complete)){this.respondToReadyState(this.transport.readyState);}},setRequestHeaders:function(){var _1081={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,"Accept":"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){_1081["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){_1081["Connection"]="close";}}if(typeof this.options.requestHeaders=="object"){var _1082=this.options.requestHeaders;if(typeof _1082.push=="function"){for(var i=0,length=_1082.length;i<length;i+=2){_1081[_1082[i]]=_1082[i+1];}}else{$H(_1082).each(function(pair){_1081[pair.key]=pair.value;});}}for(var name in _1081){this.transport.setRequestHeader(name,_1081[name]);}},success:function(){return !this.transport.status||(this.transport.status>=200&&this.transport.status<300);},respondToReadyState:function(_1086){var state=Ajax.Request.Events[_1086];var _1088=this.transport,json=this.evalJSON();if(state=="Complete"){try{this._complete=true;(this.options["on"+this.transport.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(_1088,json);}catch(e){this.dispatchException(e);}if((this.getHeader("Content-type")||"text/javascript").strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)){this.evalResponse();}}try{(this.options["on"+state]||Prototype.emptyFunction)(_1088,json);Ajax.Responders.dispatch("on"+state,this,_1088,json);}catch(e){this.dispatchException(e);}if(state=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction;}},getHeader:function(name){try{return this.transport.getResponseHeader(name);}catch(e){return null;}},evalJSON:function(){try{var json=this.getHeader("X-JSON");return json?eval("("+json+")"):null;}catch(e){return null;}},evalResponse:function(){try{return eval(this.transport.responseText);}catch(e){this.dispatchException(e);}},dispatchException:function(_108b){(this.options.onException||Prototype.emptyFunction)(this,_108b);Ajax.Responders.dispatch("onException",this,_108b);}});Ajax.Updater=Class.create();Object.extend(Object.extend(Ajax.Updater.prototype,Ajax.Request.prototype),{initialize:function(_108c,url,_108e){this.container={success:(_108c.success||_108c),failure:(_108c.failure||(_108c.success?null:_108c))};this.transport=Ajax.getTransport();this.setOptions(_108e);var _108f=this.options.onComplete||Prototype.emptyFunction;this.options.onComplete=(function(_1090,param){this.updateContent();_108f(_1090,param);}).bind(this);this.request(url);},updateContent:function(){var _1092=this.container[this.success()?"success":"failure"];var _1093=this.transport.responseText;if(!this.options.evalScripts){_1093=_1093.stripScripts();}if(_1092=$(_1092)){if(this.options.insertion){new this.options.insertion(_1092,_1093);}else{_1092.update(_1093);}}if(this.success()){if(this.onComplete){setTimeout(this.onComplete.bind(this),10);}}}});Ajax.PeriodicalUpdater=Class.create();Ajax.PeriodicalUpdater.prototype=Object.extend(new Ajax.Base(),{initialize:function(_1094,url,_1096){this.setOptions(_1096);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=_1094;this.url=url;this.start();},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent();},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments);},updateComplete:function(_1097){if(this.options.decay){this.decay=(_1097.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=_1097.responseText;}this.timer=setTimeout(this.onTimerEvent.bind(this),this.decay*this.frequency*1000);},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options);}});function $(_1098){if(arguments.length>1){for(var i=0,elements=[],length=arguments.length;i<length;i++){elements.push($(arguments[i]));}return elements;}if(typeof _1098=="string"){_1098=document.getElementById(_1098);}return Element.extend(_1098);}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(_109a,_109b){var _109c=[];var query=document.evaluate(_109a,$(_109b)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,length=query.snapshotLength;i<length;i++){_109c.push(query.snapshotItem(i));}return _109c;};}document.getElementsByClassName=function(_109f,_10a0){if(Prototype.BrowserFeatures.XPath){var q=".//*[contains(concat(' ', @class, ' '), ' "+_109f+" ')]";return document._getElementsByXPath(q,_10a0);}else{var _10a2=($(_10a0)||document.body).getElementsByTagName("*");var _10a3=[],child;for(var i=0,length=_10a2.length;i<length;i++){child=_10a2[i];if(Element.hasClassName(child,_109f)){_10a3.push(Element.extend(child));}}return _10a3;}};if(!window.Element){var Element=new Object();}Element.extend=function(_10a5){if(!_10a5||_nativeExtensions||_10a5.nodeType==3){return _10a5;}if(!_10a5._extended&&_10a5.tagName&&_10a5!=window){var _10a6=Object.clone(Element.Methods),cache=Element.extend.cache;if(_10a5.tagName=="FORM"){Object.extend(_10a6,Form.Methods);}if(["INPUT","TEXTAREA","SELECT"].include(_10a5.tagName)){Object.extend(_10a6,Form.Element.Methods);}Object.extend(_10a6,Element.Methods.Simulated);for(var _10a7 in _10a6){var value=_10a6[_10a7];if(typeof value=="function"&&!(_10a7 in _10a5)){_10a5[_10a7]=cache.findOrStore(value);}}}_10a5._extended=true;return _10a5;};Element.extend.cache={findOrStore:function(value){return this[value]=this[value]||function(){return value.apply(null,[this].concat($A(arguments)));};}};Element.Methods={visible:function(_10aa){return $(_10aa).style.display!="none";},toggle:function(_10ab){_10ab=$(_10ab);Element[Element.visible(_10ab)?"hide":"show"](_10ab);return _10ab;},hide:function(_10ac){$(_10ac).style.display="none";return _10ac;},show:function(_10ad){$(_10ad).style.display="";return _10ad;},remove:function(_10ae){_10ae=$(_10ae);_10ae.parentNode.removeChild(_10ae);return _10ae;},update:function(_10af,html){html=typeof html=="undefined"?"":html.toString();$(_10af).innerHTML=html.stripScripts();setTimeout(function(){html.evalScripts();},10);return _10af;},replace:function(_10b1,html){_10b1=$(_10b1);html=typeof html=="undefined"?"":html.toString();if(_10b1.outerHTML){_10b1.outerHTML=html.stripScripts();}else{var range=_10b1.ownerDocument.createRange();range.selectNodeContents(_10b1);_10b1.parentNode.replaceChild(range.createContextualFragment(html.stripScripts()),_10b1);}setTimeout(function(){html.evalScripts();},10);return _10b1;},inspect:function(_10b4){_10b4=$(_10b4);var _10b5="<"+_10b4.tagName.toLowerCase();$H({"id":"id","className":"class"}).each(function(pair){var _10b7=pair.first(),attribute=pair.last();var value=(_10b4[_10b7]||"").toString();if(value){_10b5+=" "+attribute+"="+value.inspect(true);}});return _10b5+">";},recursivelyCollect:function(_10b9,_10ba){_10b9=$(_10b9);var _10bb=[];while(_10b9=_10b9[_10ba]){if(_10b9.nodeType==1){_10bb.push(Element.extend(_10b9));}}return _10bb;},ancestors:function(_10bc){return $(_10bc).recursivelyCollect("parentNode");},descendants:function(_10bd){return $A($(_10bd).getElementsByTagName("*"));},immediateDescendants:function(_10be){if(!(_10be=$(_10be).firstChild)){return [];}while(_10be&&_10be.nodeType!=1){_10be=_10be.nextSibling;}if(_10be){return [_10be].concat($(_10be).nextSiblings());}return [];},previousSiblings:function(_10bf){return $(_10bf).recursivelyCollect("previousSibling");},nextSiblings:function(_10c0){return $(_10c0).recursivelyCollect("nextSibling");},siblings:function(_10c1){_10c1=$(_10c1);return _10c1.previousSiblings().reverse().concat(_10c1.nextSiblings());},match:function(_10c2,_10c3){if(typeof _10c3=="string"){_10c3=new Selector(_10c3);}return _10c3.match($(_10c2));},up:function(_10c4,_10c5,index){return Selector.findElement($(_10c4).ancestors(),_10c5,index);},down:function(_10c7,_10c8,index){return Selector.findElement($(_10c7).descendants(),_10c8,index);},previous:function(_10ca,_10cb,index){return Selector.findElement($(_10ca).previousSiblings(),_10cb,index);},next:function(_10cd,_10ce,index){return Selector.findElement($(_10cd).nextSiblings(),_10ce,index);},getElementsBySelector:function(){var args=$A(arguments),element=$(args.shift());return Selector.findChildElements(element,args);},getElementsByClassName:function(_10d1,_10d2){return document.getElementsByClassName(_10d2,_10d1);},readAttribute:function(_10d3,name){_10d3=$(_10d3);if(document.all&&!window.opera){var t=Element._attributeTranslations;if(t.values[name]){return t.values[name](_10d3,name);}if(t.names[name]){name=t.names[name];}var _10d6=_10d3.attributes[name];if(_10d6){return _10d6.nodeValue;}}return _10d3.getAttribute(name);},getHeight:function(_10d7){return $(_10d7).getDimensions().height;},getWidth:function(_10d8){return $(_10d8).getDimensions().width;},classNames:function(_10d9){return new Element.ClassNames(_10d9);},hasClassName:function(_10da,_10db){if(!(_10da=$(_10da))){return;}var _10dc=_10da.className;if(_10dc.length==0){return false;}if(_10dc==_10db||_10dc.match(new RegExp("(^|\\s)"+_10db+"(\\s|$)"))){return true;}return false;},addClassName:function(_10dd,_10de){if(!(_10dd=$(_10dd))){return;}Element.classNames(_10dd).add(_10de);return _10dd;},removeClassName:function(_10df,_10e0){if(!(_10df=$(_10df))){return;}Element.classNames(_10df).remove(_10e0);return _10df;},toggleClassName:function(_10e1,_10e2){if(!(_10e1=$(_10e1))){return;}Element.classNames(_10e1)[_10e1.hasClassName(_10e2)?"remove":"add"](_10e2);return _10e1;},observe:function(){Event.observe.apply(Event,arguments);return $A(arguments).first();},stopObserving:function(){Event.stopObserving.apply(Event,arguments);return $A(arguments).first();},cleanWhitespace:function(_10e3){_10e3=$(_10e3);var node=_10e3.firstChild;while(node){var _10e5=node.nextSibling;if(node.nodeType==3&&!/\S/.test(node.nodeValue)){_10e3.removeChild(node);}node=_10e5;}return _10e3;},empty:function(_10e6){return $(_10e6).innerHTML.match(/^\s*$/);},descendantOf:function(_10e7,_10e8){_10e7=$(_10e7),_10e8=$(_10e8);while(_10e7=_10e7.parentNode){if(_10e7==_10e8){return true;}}return false;},scrollTo:function(_10e9){_10e9=$(_10e9);var pos=Position.cumulativeOffset(_10e9);window.scrollTo(pos[0],pos[1]);return _10e9;},getStyle:function(_10eb,style){_10eb=$(_10eb);if(["float","cssFloat"].include(style)){style=(typeof _10eb.style.styleFloat!="undefined"?"styleFloat":"cssFloat");}style=style.camelize();var value=_10eb.style[style];if(!value){if(document.defaultView&&document.defaultView.getComputedStyle){var css=document.defaultView.getComputedStyle(_10eb,null);value=css?css[style]:null;}else{if(_10eb.currentStyle){value=_10eb.currentStyle[style];}}}if((value=="auto")&&["width","height"].include(style)&&(_10eb.getStyle("display")!="none")){value=_10eb["offset"+style.capitalize()]+"px";}if(window.opera&&["left","top","right","bottom"].include(style)){if(Element.getStyle(_10eb,"position")=="static"){value="auto";}}if(style=="opacity"){if(value){return parseFloat(value);}if(value=(_10eb.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(value[1]){return parseFloat(value[1])/100;}}return 1;}return value=="auto"?null:value;},setStyle:function(_10ef,style){_10ef=$(_10ef);for(var name in style){var value=style[name];if(name=="opacity"){if(value==1){value=(/Gecko/.test(navigator.userAgent)&&!/Konqueror|Safari|KHTML/.test(navigator.userAgent))?0.999999:1;if(/MSIE/.test(navigator.userAgent)&&!window.opera){_10ef.style.filter=_10ef.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"");}}else{if(value===""){if(/MSIE/.test(navigator.userAgent)&&!window.opera){_10ef.style.filter=_10ef.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"");}}else{if(value<0.00001){value=0;}if(/MSIE/.test(navigator.userAgent)&&!window.opera){_10ef.style.filter=_10ef.getStyle("filter").replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+value*100+")";}}}}else{if(["float","cssFloat"].include(name)){name=(typeof _10ef.style.styleFloat!="undefined")?"styleFloat":"cssFloat";}}_10ef.style[name.camelize()]=value;}return _10ef;},getDimensions:function(_10f3){_10f3=$(_10f3);var _10f4=$(_10f3).getStyle("display");if(_10f4!="none"&&_10f4!=null){return {width:_10f3.offsetWidth,height:_10f3.offsetHeight};}var els=_10f3.style;var _10f6=els.visibility;var _10f7=els.position;var _10f8=els.display;els.visibility="hidden";els.position="absolute";els.display="block";var _10f9=_10f3.clientWidth;var _10fa=_10f3.clientHeight;els.display=_10f8;els.position=_10f7;els.visibility=_10f6;return {width:_10f9,height:_10fa};},makePositioned:function(_10fb){_10fb=$(_10fb);var pos=Element.getStyle(_10fb,"position");if(pos=="static"||!pos){_10fb._madePositioned=true;_10fb.style.position="relative";if(window.opera){_10fb.style.top=0;_10fb.style.left=0;}}return _10fb;},undoPositioned:function(_10fd){_10fd=$(_10fd);if(_10fd._madePositioned){_10fd._madePositioned=undefined;_10fd.style.position=_10fd.style.top=_10fd.style.left=_10fd.style.bottom=_10fd.style.right="";}return _10fd;},makeClipping:function(_10fe){_10fe=$(_10fe);if(_10fe._overflow){return _10fe;}_10fe._overflow=_10fe.style.overflow||"auto";if((Element.getStyle(_10fe,"overflow")||"visible")!="hidden"){_10fe.style.overflow="hidden";}return _10fe;},undoClipping:function(_10ff){_10ff=$(_10ff);if(!_10ff._overflow){return _10ff;}_10ff.style.overflow=_10ff._overflow=="auto"?"":_10ff._overflow;_10ff._overflow=null;return _10ff;}};Object.extend(Element.Methods,{childOf:Element.Methods.descendantOf});Element._attributeTranslations={};Element._attributeTranslations.names={colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",enctype:"encType",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc"};Element._attributeTranslations.values={_getAttr:function(_1100,_1101){return _1100.getAttribute(_1101,2);},_flag:function(_1102,_1103){return $(_1102).hasAttribute(_1103)?_1103:null;},style:function(_1104){return _1104.style.cssText.toLowerCase();},title:function(_1105){var node=_1105.getAttributeNode("title");return node.specified?node.nodeValue:null;}};Object.extend(Element._attributeTranslations.values,{href:Element._attributeTranslations.values._getAttr,src:Element._attributeTranslations.values._getAttr,disabled:Element._attributeTranslations.values._flag,checked:Element._attributeTranslations.values._flag,readonly:Element._attributeTranslations.values._flag,multiple:Element._attributeTranslations.values._flag});Element.Methods.Simulated={hasAttribute:function(_1107,_1108){var t=Element._attributeTranslations;_1108=t.names[_1108]||_1108;return $(_1107).getAttributeNode(_1108).specified;}};if(document.all&&!window.opera){Element.Methods.update=function(_110a,html){_110a=$(_110a);html=typeof html=="undefined"?"":html.toString();var _110c=_110a.tagName.toUpperCase();if(["THEAD","TBODY","TR","TD"].include(_110c)){var div=document.createElement("div");switch(_110c){case "THEAD":case "TBODY":div.innerHTML="<table><tbody>"+html.stripScripts()+"</tbody></table>";depth=2;break;case "TR":div.innerHTML="<table><tbody><tr>"+html.stripScripts()+"</tr></tbody></table>";depth=3;break;case "TD":div.innerHTML="<table><tbody><tr><td>"+html.stripScripts()+"</td></tr></tbody></table>";depth=4;}$A(_110a.childNodes).each(function(node){_110a.removeChild(node);});depth.times(function(){div=div.firstChild;});$A(div.childNodes).each(function(node){_110a.appendChild(node);});}else{_110a.innerHTML=html.stripScripts();}setTimeout(function(){html.evalScripts();},10);return _110a;};}Object.extend(Element,Element.Methods);var _nativeExtensions=false;if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){["","Form","Input","TextArea","Select"].each(function(tag){var _1111="HTML"+tag+"Element";if(window[_1111]){return;}var klass=window[_1111]={};klass.prototype=document.createElement(tag?tag.toLowerCase():"div").__proto__;});}Element.addMethods=function(_1113){Object.extend(Element.Methods,_1113||{});function copy(_1114,_1115,_1116){_1116=_1116||false;var cache=Element.extend.cache;for(var _1118 in _1114){var value=_1114[_1118];if(!_1116||!(_1118 in _1115)){_1115[_1118]=cache.findOrStore(value);}}}if(typeof HTMLElement!="undefined"){copy(Element.Methods,HTMLElement.prototype);copy(Element.Methods.Simulated,HTMLElement.prototype,true);copy(Form.Methods,HTMLFormElement.prototype);[HTMLInputElement,HTMLTextAreaElement,HTMLSelectElement].each(function(klass){copy(Form.Element.Methods,klass.prototype);});_nativeExtensions=true;}};var Toggle=new Object();Toggle.display=Element.toggle;Abstract.Insertion=function(_111b){this.adjacency=_111b;};Abstract.Insertion.prototype={initialize:function(_111c,_111d){this.element=$(_111c);this.content=_111d.stripScripts();if(this.adjacency&&this.element.insertAdjacentHTML){try{this.element.insertAdjacentHTML(this.adjacency,this.content);}catch(e){var _111e=this.element.tagName.toUpperCase();if(["TBODY","TR"].include(_111e)){this.insertContent(this.contentFromAnonymousTable());}else{throw e;}}}else{this.range=this.element.ownerDocument.createRange();if(this.initializeRange){this.initializeRange();}this.insertContent([this.range.createContextualFragment(this.content)]);}setTimeout(function(){_111d.evalScripts();},10);},contentFromAnonymousTable:function(){var div=document.createElement("div");div.innerHTML="<table><tbody>"+this.content+"</tbody></table>";return $A(div.childNodes[0].childNodes[0].childNodes);}};var Insertion=new Object();Insertion.Before=Class.create();Insertion.Before.prototype=Object.extend(new Abstract.Insertion("beforeBegin"),{initializeRange:function(){this.range.setStartBefore(this.element);},insertContent:function(_1120){_1120.each((function(_1121){this.element.parentNode.insertBefore(_1121,this.element);}).bind(this));}});Insertion.Top=Class.create();Insertion.Top.prototype=Object.extend(new Abstract.Insertion("afterBegin"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(true);},insertContent:function(_1122){_1122.reverse(false).each((function(_1123){this.element.insertBefore(_1123,this.element.firstChild);}).bind(this));}});Insertion.Bottom=Class.create();Insertion.Bottom.prototype=Object.extend(new Abstract.Insertion("beforeEnd"),{initializeRange:function(){this.range.selectNodeContents(this.element);this.range.collapse(this.element);},insertContent:function(_1124){_1124.each((function(_1125){this.element.appendChild(_1125);}).bind(this));}});Insertion.After=Class.create();Insertion.After.prototype=Object.extend(new Abstract.Insertion("afterEnd"),{initializeRange:function(){this.range.setStartAfter(this.element);},insertContent:function(_1126){_1126.each((function(_1127){this.element.parentNode.insertBefore(_1127,this.element.nextSibling);}).bind(this));}});Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(_1128){this.element=$(_1128);},_each:function(_1129){this.element.className.split(/\s+/).select(function(name){return name.length>0;})._each(_1129);},set:function(_112b){this.element.className=_112b;},add:function(_112c){if(this.include(_112c)){return;}this.set($A(this).concat(_112c).join(" "));},remove:function(_112d){if(!this.include(_112d)){return;}this.set($A(this).without(_112d).join(" "));},toString:function(){return $A(this).join(" ");}};Object.extend(Element.ClassNames.prototype,Enumerable);var Selector=Class.create();Selector.prototype={initialize:function(_112e){this.params={classNames:[]};this.expression=_112e.toString().strip();this.parseExpression();this.compileMatcher();},parseExpression:function(){function abort(_112f){throw "Parse error in selector: "+_112f;}if(this.expression==""){abort("empty expression");}var _1130=this.params,expr=this.expression,match,modifier,clause,rest;while(match=expr.match(/^(.*)\[([a-z0-9_:-]+?)(?:([~\|!]?=)(?:"([^"]*)"|([^\]\s]*)))?\]$/i)){_1130.attributes=_1130.attributes||[];_1130.attributes.push({name:match[2],operator:match[3],value:match[4]||match[5]||""});expr=match[1];}if(expr=="*"){return this.params.wildcard=true;}while(match=expr.match(/^([^a-z0-9_-])?([a-z0-9_-]+)(.*)/i)){modifier=match[1],clause=match[2],rest=match[3];switch(modifier){case "#":_1130.id=clause;break;case ".":_1130.classNames.push(clause);break;case "":case undefined:_1130.tagName=clause.toUpperCase();break;default:abort(expr.inspect());}expr=rest;}if(expr.length>0){abort(expr.inspect());}},buildMatchExpression:function(){var _1131=this.params,conditions=[],clause;if(_1131.wildcard){conditions.push("true");}if(clause=_1131.id){conditions.push("element.readAttribute(\"id\") == "+clause.inspect());}if(clause=_1131.tagName){conditions.push("element.tagName.toUpperCase() == "+clause.inspect());}if((clause=_1131.classNames).length>0){for(var i=0,length=clause.length;i<length;i++){conditions.push("element.hasClassName("+clause[i].inspect()+")");}}if(clause=_1131.attributes){clause.each(function(_1133){var value="element.readAttribute("+_1133.name.inspect()+")";var _1135=function(_1136){return value+" && "+value+".split("+_1136.inspect()+")";};switch(_1133.operator){case "=":conditions.push(value+" == "+_1133.value.inspect());break;case "~=":conditions.push(_1135(" ")+".include("+_1133.value.inspect()+")");break;case "|=":conditions.push(_1135("-")+".first().toUpperCase() == "+_1133.value.toUpperCase().inspect());break;case "!=":conditions.push(value+" != "+_1133.value.inspect());break;case "":case undefined:conditions.push("element.hasAttribute("+_1133.name.inspect()+")");break;default:throw "Unknown operator "+_1133.operator+" in selector";}});}return conditions.join(" && ");},compileMatcher:function(){this.match=new Function("element","if (!element.tagName) return false;       element = $(element);       return "+this.buildMatchExpression());},findElements:function(scope){var _1138;if(_1138=$(this.params.id)){if(this.match(_1138)){if(!scope||Element.childOf(_1138,scope)){return [_1138];}}}scope=(scope||document).getElementsByTagName(this.params.tagName||"*");var _1139=[];for(var i=0,length=scope.length;i<length;i++){if(this.match(_1138=scope[i])){_1139.push(Element.extend(_1138));}}return _1139;},toString:function(){return this.expression;}};Object.extend(Selector,{matchElements:function(_113b,_113c){var _113d=new Selector(_113c);return _113b.select(_113d.match.bind(_113d)).map(Element.extend);},findElement:function(_113e,_113f,index){if(typeof _113f=="number"){index=_113f,_113f=false;}return Selector.matchElements(_113e,_113f||"*")[index||0];},findChildElements:function(_1141,_1142){return _1142.map(function(_1143){return _1143.match(/[^\s"]+(?:"[^"]*"[^\s"]+)*/g).inject([null],function(_1144,expr){var _1146=new Selector(expr);return _1144.inject([],function(_1147,_1148){return _1147.concat(_1146.findElements(_1148||_1141));});});}).flatten();}});function $$(){return Selector.findChildElements(document,$A(arguments));}var Form={reset:function(form){$(form).reset();return form;},serializeElements:function(_114a,_114b){var data=_114a.inject({},function(_114d,_114e){if(!_114e.disabled&&_114e.name){var key=_114e.name,value=$(_114e).getValue();if(value!=undefined){if(_114d[key]){if(_114d[key].constructor!=Array){_114d[key]=[_114d[key]];}_114d[key].push(value);}else{_114d[key]=value;}}}return _114d;});return _114b?data:Hash.toQueryString(data);}};Form.Methods={serialize:function(form,_1151){return Form.serializeElements(Form.getElements(form),_1151);},getElements:function(form){return $A($(form).getElementsByTagName("*")).inject([],function(_1153,child){if(Form.Element.Serializers[child.tagName.toLowerCase()]){_1153.push(Element.extend(child));}return _1153;});},getInputs:function(form,_1156,name){form=$(form);var _1158=form.getElementsByTagName("input");if(!_1156&&!name){return $A(_1158).map(Element.extend);}for(var i=0,matchingInputs=[],length=_1158.length;i<length;i++){var input=_1158[i];if((_1156&&input.type!=_1156)||(name&&input.name!=name)){continue;}matchingInputs.push(Element.extend(input));}return matchingInputs;},disable:function(form){form=$(form);form.getElements().each(function(_115c){_115c.blur();_115c.disabled="true";});return form;},enable:function(form){form=$(form);form.getElements().each(function(_115e){_115e.disabled="";});return form;},findFirstElement:function(form){return $(form).getElements().find(function(_1160){return _1160.type!="hidden"&&!_1160.disabled&&["input","select","textarea"].include(_1160.tagName.toLowerCase());});},focusFirstElement:function(form){form=$(form);form.findFirstElement().activate();return form;}};Object.extend(Form,Form.Methods);Form.Element={focus:function(_1162){$(_1162).focus();return _1162;},select:function(_1163){$(_1163).select();return _1163;}};Form.Element.Methods={serialize:function(_1164){_1164=$(_1164);if(!_1164.disabled&&_1164.name){var value=_1164.getValue();if(value!=undefined){var pair={};pair[_1164.name]=value;return Hash.toQueryString(pair);}}return "";},getValue:function(_1167){_1167=$(_1167);var _1168=_1167.tagName.toLowerCase();return Form.Element.Serializers[_1168](_1167);},clear:function(_1169){$(_1169).value="";return _1169;},present:function(_116a){return $(_116a).value!="";},activate:function(_116b){_116b=$(_116b);_116b.focus();if(_116b.select&&(_116b.tagName.toLowerCase()!="input"||!["button","reset","submit"].include(_116b.type))){_116b.select();}return _116b;},disable:function(_116c){_116c=$(_116c);_116c.disabled=true;return _116c;},enable:function(_116d){_116d=$(_116d);_116d.blur();_116d.disabled=false;return _116d;}};Object.extend(Form.Element,Form.Element.Methods);var Field=Form.Element;var $F=Form.Element.getValue;Form.Element.Serializers={input:function(_116e){switch(_116e.type.toLowerCase()){case "checkbox":case "radio":return Form.Element.Serializers.inputSelector(_116e);default:return Form.Element.Serializers.textarea(_116e);}},inputSelector:function(_116f){return _116f.checked?_116f.value:null;},textarea:function(_1170){return _1170.value;},select:function(_1171){return this[_1171.type=="select-one"?"selectOne":"selectMany"](_1171);},selectOne:function(_1172){var index=_1172.selectedIndex;return index>=0?this.optionValue(_1172.options[index]):null;},selectMany:function(_1174){var _1175,length=_1174.length;if(!length){return null;}for(var i=0,_1175=[];i<length;i++){var opt=_1174.options[i];if(opt.selected){_1175.push(this.optionValue(opt));}}return _1175;},optionValue:function(opt){return Element.extend(opt).hasAttribute("value")?opt.value:opt.text;}};Abstract.TimedObserver=function(){};Abstract.TimedObserver.prototype={initialize:function(_1179,_117a,_117b){this.frequency=_117a;this.element=$(_1179);this.callback=_117b;this.lastValue=this.getValue();this.registerCallback();},registerCallback:function(){setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},onTimerEvent:function(){var value=this.getValue();var _117d=("string"==typeof this.lastValue&&"string"==typeof value?this.lastValue!=value:String(this.lastValue)!=String(value));if(_117d){this.callback(this.element,value);this.lastValue=value;}}};Form.Element.Observer=Class.create();Form.Element.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.Observer=Class.create();Form.Observer.prototype=Object.extend(new Abstract.TimedObserver(),{getValue:function(){return Form.serialize(this.element);}});Abstract.EventObserver=function(){};Abstract.EventObserver.prototype={initialize:function(_117e,_117f){this.element=$(_117e);this.callback=_117f;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks();}else{this.registerCallback(this.element);}},onElementEvent:function(){var value=this.getValue();if(this.lastValue!=value){this.callback(this.element,value);this.lastValue=value;}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback.bind(this));},registerCallback:function(_1181){if(_1181.type){switch(_1181.type.toLowerCase()){case "checkbox":case "radio":Event.observe(_1181,"click",this.onElementEvent.bind(this));break;default:Event.observe(_1181,"change",this.onElementEvent.bind(this));break;}}}};Form.Element.EventObserver=Class.create();Form.Element.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.Element.getValue(this.element);}});Form.EventObserver=Class.create();Form.EventObserver.prototype=Object.extend(new Abstract.EventObserver(),{getValue:function(){return Form.serialize(this.element);}});if(!window.Event){var Event=new Object();}Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(event){return event.target||event.srcElement;},isLeftClick:function(event){return (((event.which)&&(event.which==1))||((event.button)&&(event.button==1)));},pointerX:function(event){return event.pageX||(event.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));},pointerY:function(event){return event.pageY||(event.clientY+(document.documentElement.scrollTop||document.body.scrollTop));},stop:function(event){if(event.preventDefault){event.preventDefault();event.stopPropagation();}else{event.returnValue=false;event.cancelBubble=true;}},findElement:function(event,_1188){var _1189=Event.element(event);while(_1189.parentNode&&(!_1189.tagName||(_1189.tagName.toUpperCase()!=_1188.toUpperCase()))){_1189=_1189.parentNode;}return _1189;},observers:false,_observeAndCache:function(_118a,name,_118c,_118d){if(!this.observers){this.observers=[];}if(_118a.addEventListener){this.observers.push([_118a,name,_118c,_118d]);_118a.addEventListener(name,_118c,_118d);}else{if(_118a.attachEvent){this.observers.push([_118a,name,_118c,_118d]);_118a.attachEvent("on"+name,_118c);}}},unloadCache:function(){if(!Event.observers){return;}for(var i=0,length=Event.observers.length;i<length;i++){Event.stopObserving.apply(this,Event.observers[i]);Event.observers[i][0]=null;}Event.observers=false;},observe:function(_118f,name,_1191,_1192){_118f=$(_118f);_1192=_1192||false;if(name=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||_118f.attachEvent)){name="keydown";}Event._observeAndCache(_118f,name,_1191,_1192);},stopObserving:function(_1193,name,_1195,_1196){_1193=$(_1193);_1196=_1196||false;if(name=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||_1193.detachEvent)){name="keydown";}if(_1193.removeEventListener){_1193.removeEventListener(name,_1195,_1196);}else{if(_1193.detachEvent){try{_1193.detachEvent("on"+name,_1195);}catch(e){}}}}});if(navigator.appVersion.match(/\bMSIE\b/)){Event.observe(window,"unload",Event.unloadCache,false);}var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},realOffset:function(_1197){var _1198=0,valueL=0;do{_1198+=_1197.scrollTop||0;valueL+=_1197.scrollLeft||0;_1197=_1197.parentNode;}while(_1197);return [valueL,_1198];},cumulativeOffset:function(_1199){var _119a=0,valueL=0;do{_119a+=_1199.offsetTop||0;valueL+=_1199.offsetLeft||0;_1199=_1199.offsetParent;}while(_1199);return [valueL,_119a];},positionedOffset:function(_119b){var _119c=0,valueL=0;do{_119c+=_119b.offsetTop||0;valueL+=_119b.offsetLeft||0;_119b=_119b.offsetParent;if(_119b){if(_119b.tagName=="BODY"){break;}var p=Element.getStyle(_119b,"position");if(p=="relative"||p=="absolute"){break;}}}while(_119b);return [valueL,_119c];},offsetParent:function(_119e){if(_119e.offsetParent){return _119e.offsetParent;}if(_119e==document.body){return _119e;}while((_119e=_119e.parentNode)&&_119e!=document.body){if(Element.getStyle(_119e,"position")!="static"){return _119e;}}return document.body;},within:function(_119f,x,y){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(_119f,x,y);}this.xcomp=x;this.ycomp=y;this.offset=this.cumulativeOffset(_119f);return (y>=this.offset[1]&&y<this.offset[1]+_119f.offsetHeight&&x>=this.offset[0]&&x<this.offset[0]+_119f.offsetWidth);},withinIncludingScrolloffsets:function(_11a2,x,y){var _11a5=this.realOffset(_11a2);this.xcomp=x+_11a5[0]-this.deltaX;this.ycomp=y+_11a5[1]-this.deltaY;this.offset=this.cumulativeOffset(_11a2);return (this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+_11a2.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+_11a2.offsetWidth);},overlap:function(mode,_11a7){if(!mode){return 0;}if(mode=="vertical"){return ((this.offset[1]+_11a7.offsetHeight)-this.ycomp)/_11a7.offsetHeight;}if(mode=="horizontal"){return ((this.offset[0]+_11a7.offsetWidth)-this.xcomp)/_11a7.offsetWidth;}},page:function(_11a8){var _11a9=0,valueL=0;var _11aa=_11a8;do{_11a9+=_11aa.offsetTop||0;valueL+=_11aa.offsetLeft||0;if(_11aa.offsetParent==document.body){if(Element.getStyle(_11aa,"position")=="absolute"){break;}}}while(_11aa=_11aa.offsetParent);_11aa=_11a8;do{if(!window.opera||_11aa.tagName=="BODY"){_11a9-=_11aa.scrollTop||0;valueL-=_11aa.scrollLeft||0;}}while(_11aa=_11aa.parentNode);return [valueL,_11a9];},clone:function(_11ab,_11ac){var _11ad=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});_11ab=$(_11ab);var p=Position.page(_11ab);_11ac=$(_11ac);var delta=[0,0];var _11b0=null;if(Element.getStyle(_11ac,"position")=="absolute"){_11b0=Position.offsetParent(_11ac);delta=Position.page(_11b0);}if(_11b0==document.body){delta[0]-=document.body.offsetLeft;delta[1]-=document.body.offsetTop;}if(_11ad.setLeft){_11ac.style.left=(p[0]-delta[0]+_11ad.offsetLeft)+"px";}if(_11ad.setTop){_11ac.style.top=(p[1]-delta[1]+_11ad.offsetTop)+"px";}if(_11ad.setWidth){_11ac.style.width=_11ab.offsetWidth+"px";}if(_11ad.setHeight){_11ac.style.height=_11ab.offsetHeight+"px";}},absolutize:function(_11b1){_11b1=$(_11b1);if(_11b1.style.position=="absolute"){return;}Position.prepare();var _11b2=Position.positionedOffset(_11b1);var top=_11b2[1];var left=_11b2[0];var width=_11b1.clientWidth;var _11b6=_11b1.clientHeight;_11b1._originalLeft=left-parseFloat(_11b1.style.left||0);_11b1._originalTop=top-parseFloat(_11b1.style.top||0);_11b1._originalWidth=_11b1.style.width;_11b1._originalHeight=_11b1.style.height;_11b1.style.position="absolute";_11b1.style.top=top+"px";_11b1.style.left=left+"px";_11b1.style.width=width+"px";_11b1.style.height=_11b6+"px";},relativize:function(_11b7){_11b7=$(_11b7);if(_11b7.style.position=="relative"){return;}Position.prepare();_11b7.style.position="relative";var top=parseFloat(_11b7.style.top||0)-(_11b7._originalTop||0);var left=parseFloat(_11b7.style.left||0)-(_11b7._originalLeft||0);_11b7.style.top=top+"px";_11b7.style.left=left+"px";_11b7.style.height=_11b7._originalHeight;_11b7.style.width=_11b7._originalWidth;}};if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){Position.cumulativeOffset=function(_11ba){var _11bb=0,valueL=0;do{_11bb+=_11ba.offsetTop||0;valueL+=_11ba.offsetLeft||0;if(_11ba.offsetParent==document.body){if(Element.getStyle(_11ba,"position")=="absolute"){break;}}_11ba=_11ba.offsetParent;}while(_11ba);return [valueL,_11bb];};}Element.addMethods();